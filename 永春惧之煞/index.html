<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>惧之煞平台移动（真实旋转版）</title>
  <style>
    body {
      background-color: #222;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      color: white;
      font-family: sans-serif;
    }
    .platform {
      position: relative;
      width: 400px;
      height: 400px;
      border-radius: 50%;
      border: 5px solid white;
      transform: rotate(22.5deg);
    }
    .sector {
      position: absolute;
      width: 100%;
      height: 100%;
      clip-path: polygon(50% 50%, 100% 50%, 100% 0, 0 0, 0 100%, 100% 100%, 100% 50%);
      background-color: #555;
      transform-origin: 50% 50%;
    }
    .sector.active {
      background-color: green;
    }
    .divider {
      position: absolute;
      width: 2px;
      height: 200px;
      background: white;
      top: 0;
      left: 50%;
      transform-origin: bottom center;
    }
  </style>
</head>
<body>
  <div class="platform" id="platform"></div>

  <script>
    const platform = document.getElementById('platform');
    const totalSectors = 8;
    let playerSector = 0;
    const sectors = [];

    // 创建扇形区域
    for (let i = 0; i < totalSectors; i++) {
      const sector = document.createElement('div');
      sector.classList.add('sector');
      sector.style.transform = `rotate(${i * 45}deg)`;
      platform.appendChild(sector);
      sectors.push(sector);
    }

    // 创建分界线
    for (let i = 0; i < totalSectors; i++) {
      const divider = document.createElement('div');
      divider.classList.add('divider');
      divider.style.transform = `rotate(${i * 45}deg)`;
      platform.appendChild(divider);
    }

    function updateSectors() {
      sectors.forEach((sector, index) => {
        if (index === playerSector) {
          sector.classList.add('active');
        } else {
          sector.classList.remove('active');
        }
      });
    }

    updateSectors();

    window.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') {
        playerSector = (playerSector - 1 + totalSectors) % totalSectors;
      } else if (e.key === 'ArrowRight') {
        playerSector = (playerSector + 1) % totalSectors;
      }
      updateSectors();
    });
  </script>
</body>
</html>
